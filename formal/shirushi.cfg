\* TLC Configuration File for Shirushi
\* Model checking configuration

SPECIFICATION Spec

\* Invariants to check
INVARIANTS
  TypeInvariant
  SystemInvariant
  ImmutabilityInvariant
  PatchAtomicityInvariant
  ServiceReadOnly
  ServiceErrorCodesTotal
  StreamFinalConsistent

\* Properties to check
PROPERTIES
  AlwaysValid

\* Constants
CONSTANTS
  Documents = {d1, d2}
  DocIDs = {"PCE-SPEC-2025-0001-A", "PCE-SPEC-2025-0002-A"}
  Paths = {p1, p2}
  PathsSubset = {p1, p2}
  DocIDsSubset = {"PCE-SPEC-2025-0001-A", "PCE-SPEC-2025-0002-A"}
  MetadataKeys = {}
  GitRefs = {"HEAD", "master"}
  ScanFormats = {"table", "json"}
  ScopeKeys = {"PCE-SPEC-2025"}
  MaxSerialPerScope = 3
  MaxDocs = 2
  MaxHistory = 4
  MaxRequests = 2
  MaxServiceLog = 3
  MaxStreamEvents = 3

\* Model Values
CONSTANTS
  d1 = d1
  d2 = d2
  p1 = p1
  p2 = p2
  NoID = NoID
  NoPath = NoPath
  NoScopeKey = NoScopeKey
  ErrorCodes = {"OK", "VALIDATION_ERROR", "ALLOW_MISSING_ID", "ASSIGN_DRY_RUN", "ASSIGN_CONFLICT", "SERVER_ERROR"}
  ExitCodes = {0, 1, 2}

\* State constraint (limit state space)
CONSTRAINT StateConstraint

\* Fairness
\* PROPERTY Fairness

\* Deadlock checking
CHECK_DEADLOCK TRUE
